<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/video-js.min.css" />
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/video.min.js"></script>
		<style>
			/* video.js样式修改 */
			
			.video-js {
				/* 给.video-js设置字体大小以统一各浏览器样式表现，因为video.js采用的是em单位 */
				font-size: 14px;
			}
			
			.video-js button {
				outline: none;
			}
			
			.video-js.vjs-fluid,
			.video-js.vjs-16-9,
			.video-js.vjs-4-3 {
				/* 视频占满容器高度 */
				height: 100%;
				background-color: #161616;
			}
			
			.vjs-poster {
				background-color: #161616;
			}
			
			.video-js .vjs-big-play-button {
				/* 中间大的播放按钮 */
				font-size: 2.7em;
				line-height: 1.5em;
				height: 1.5em;
				width: 1.5em;
				-webkit-border-radius: 2.2em;
				-moz-border-radius: 2.2em;
				border-radius: 2.2em;
				background-color: rgba(0, 0, 0, .3);
				border-width: 0;
				margin-top: -1em;
				margin-left: -0.9em;
			}
			
			.video-js.vjs-paused .vjs-big-play-button {
				/* 视频暂停时显示播放按钮 */
				display: block;
			}
			
			.video-js.vjs-error .vjs-big-play-button {
				/* 视频加载出错时隐藏播放按钮 */
				display: none;
			}
			
			.vjs-loading-spinner {
				/* 加载圆圈 */
				font-size: 2em;
				width: 2em;
				height: 2em;
				border-radius: 1em;
				margin-top: -1em;
				margin-left: -1.5em;
			}
			
			.video-js .vjs-control-bar {
				/* 控制条默认显示 */
				display: flex;
			}
			
			.video-js .vjs-time-control {
				display: block;
			}
			
			.video-js .vjs-remaining-time {
				display: none;
			}
			
			.vjs-button>.vjs-icon-placeholder:before {
				/* 控制条所有图标，图标字体大小最好使用px单位，如果使用em，各浏览器表现可能会不大一样 */
				font-size: 22px;
				line-height: 1.9;
			}
			
			.video-js .vjs-playback-rate .vjs-playback-rate-value {
				line-height: 2.4;
				font-size: 18px;
			}
			/* 进度条背景色 */
			
			.video-js .vjs-play-progress {
				color: #dc0b21;
				/*background-color: #ffb845;*/
			}
			/*dc0b21*/
			
			.video-js .vjs-progress-control .vjs-mouse-display {
				/*background-color: #ffb845;*/
			}
			
			.vjs-mouse-display .vjs-time-tooltip {
				padding-bottom: 6px;
				background-color: #dc0b21;
			}
			
			.video-js .vjs-play-progress .vjs-time-tooltip {
				display: none !important;
			}
			/* 控制台背景色 */
			
			.video-js .vjs-control-bar {
				background-color: rgba(43, 51, 63, .5);
			}
		</style>
	</head>

	<body>
		<div style="width:80%;text-align: center;">
			<video id="videoPlayExecute" class="video-js vjs-default-skin video-label vjs-big-play-centered" controls preload="auto" webkit-playsinline="true" playsinline="true" x5-playsinline poster="./resource/images/test_pic.png">
				<source src="https://video.pearvideo.com/head/20190925/cont-1606116-14423410.mp4" type="video/mp4">
			</video>
		</div>

	</body>
	<script>
		var options = {
			autoplay: false, // 自动播放：true/false
			controls: true, // 是否显示底部控制栏：true/false
			aspectRatio: "16:9", // 将播放器置于流体模式下（如“16:9”或“4:3”）
			loop: false, // 是否循环播放:true/false
			muted: false, // 设置默认播放音频：true/false
			preload: "auto",
			fluid: true, // 是否自适应布局
			inactivityTimeout: 0, // 闲置超时
			nativeControlsForTouch: false, // 是否使用浏览器原生的控件
			language: 'zh-CN',
			controlBar: {
				children: [{
						name: 'playToggle'
					}, // 播放按钮
					{
						name: 'currentTimeDisplay'
					}, // 当前已播放时间
					{
						name: 'progressControl'
					}, // 播放进度条
					{
						name: 'durationDisplay'
					}, // 总时间
					{
						name: 'volumePanel', // 音量控制
						inline: false, // 不使用水平方式
					},
					{
						name: 'FullscreenToggle'
					} // 全屏
				]
			}
		}

		var myPlayer = videojs('videoPlayExecute', options, function() {
			// 准备好播放
			// 在回调函数中，this代表当前播放器，
			var myPlayer = this;
			myPlayer.play();
			// 可以调用方法，也可以绑定事件。
			myPlayer.on('ended', function() {
				videoCoverLayer.fadeIn(600);
				myVideo.hide();
				// 播放结束
				if(cancelAutoplayHD.val() === '1') {
					cancelAutoplayBtn.hide();
				} else {
					cancelAutoplayBtn.show();
				}
				playVideoBtn.hide();
				replayVideoBtn.show();
				nextVideoBtn.show();
				countDownNum.html(5);
				var num = 5;

				function countDown() {
					if(num > 0) {
						num--;
						countDownNum.html(num);
					} else {
						if(cancelAutoplayHD.val() !== '1') {
							replayVideoBtn.hide();
							nextVideoBtn.hide();
							cancelAutoplayBtn.hide();
							loadNextVideo(relatedFirstVideoUrl)
						} else {
							countDownNum.html(5);
						}
						clearInterval(timer);
					}
				}

				var timer = setInterval(function() {
					countDown();
				}, 1000);
			});

			// 监听视频播放开始
			myPlayer.on("play", function() {
				// 监听视频播放开始
				playVideoBtn.hide();
				pauseVideoBtn.hide();
			});

			// 监听视频播放暂停
			myPlayer.on("pause", function() {
				// 监听视频播放暂停
				playVideoBtn.hide();
				pauseVideoBtn.hide();
			});
		});
	</script>

</html>